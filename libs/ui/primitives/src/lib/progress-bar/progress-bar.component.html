<div [class]="containerClassFinal()">
  <div
    role="progressbar"
    [class]="trackClassFinal()"
    [attr.aria-valuemin]="mode() === 'determinate' ? 0 : null"
    [attr.aria-valuemax]="mode() === 'determinate' ? max() : null"
    [attr.aria-valuenow]="mode() === 'determinate' ? value() : null"
  >
    <!-- Determinate -->
    @if (mode() === 'determinate') {
      <div
        [class]="indicatorClassFinal()"
        [style.width.%]="percentage()"
      ></div>
    }

    <!-- Indeterminate -->
    @if (mode() === 'indeterminate') {
      <div [class]="indeterminateIndicatorClass()"></div>
    }
  </div>
</div>
