<div [class]="finalKlass()">
  <!-- Title Section -->
  <div class="flex items-center justify-between mb-2">
    <ng-content select="[tngExampleTitle]"></ng-content>
    <div class="flex items-center gap-4">
      @if (docLink()) {
        <tng-icon
          name="bootstrapLink45deg"
          size="1.5em"
          title="Copy link"
          (click)="copyDocLink()"
          klass="cursor-pointer hover:bg-slate-100 hover:text-slate-900"
        ></tng-icon>
      }

      <tng-icon
        [name]="isCodePanelOpen() ? 'bootstrapCodeSlash' : 'bootstrapCode'"
        size="1.5em"
        title="View code"
        (click)="toggleCodePanel()"
        klass="cursor-pointer hover:bg-slate-100 hover:text-slate-900"
      ></tng-icon>

      @if (stackBlitzLink()) {
        <tng-icon
          name="bootstrapShare"
          size="1em"
          title="Open in StackBlitz"
          (click)="openStackBlitz()"
          klass="cursor-pointer hover:bg-slate-100 hover:text-slate-900"
        ></tng-icon>
      }
    </div>
  </div>

  <!-- Code Panel -->
  <tng-expansion-panel rootKlass="border-0 mt-4" headerKlass="hidden" [open]="isCodePanelOpen()">
    <tng-tabs defaultValue="html" tngExpansionContent>
      <tng-tab
        value="html"
        tabKlass="px-3 py-2 text-sm font-medium cursor-pointer"
        activeKlass="text-primary border-b-2 border-primary"
        inactiveKlass="text-muted-foreground hover:text-foreground hover:bg-gray-50"
        >HTML</tng-tab
      >
      <tng-tab
        value="ts"
        tabKlass="px-3 py-2 text-sm font-medium cursor-pointer"
        activeKlass="text-primary border-b-2 border-primary"
        inactiveKlass="text-muted-foreground hover:text-foreground hover:bg-gray-50"
        >TS</tng-tab
      >
      <tng-tab
        value="css"
        tabKlass="px-3 py-2 text-sm font-medium cursor-pointer"
        activeKlass="text-primary border-b-2 border-primary"
        inactiveKlass="text-muted-foreground hover:text-foreground hover:bg-gray-50"
        >CSS</tng-tab
      >
      <tng-tab-panel value="html">
        @if (htmlSource()) {
          <tng-code-block
            [content]="htmlSource()"
            [highlighter]="highlighter"
            language="html"
            [copyResetMs]="5000"
          >
            <tng-icon name="bootstrapCopy" tngCodeBlockCopy>Copy</tng-icon>
            <tng-icon name="bootstrapCheck2Circle" size="1rem" tngCodeBlockCopied></tng-icon>
          </tng-code-block>
        }
      </tng-tab-panel>
      <tng-tab-panel value="ts">
        @if (tsSource()) {
           <tng-code-block
            [content]="tsSource()"
            [highlighter]="highlighter"
            language="typescript"
            [copyResetMs]="5000"
          >
            <tng-icon name="bootstrapCopy" tngCodeBlockCopy>Copy</tng-icon>
            <tng-icon name="bootstrapCheck2Circle" size="1rem" tngCodeBlockCopied></tng-icon>
          </tng-code-block>
        }
      </tng-tab-panel>
      <tng-tab-panel value="css">
        @if (cssSource()) {
           <tng-code-block
            [content]="cssSource()"
            [highlighter]="highlighter"
            language="css"
            [copyResetMs]="5000"
          >
            <tng-icon name="bootstrapCopy" tngCodeBlockCopy>Copy</tng-icon>
            <tng-icon name="bootstrapCheck2Circle" size="1rem" tngCodeBlockCopied></tng-icon>
          </tng-code-block>
        }
      </tng-tab-panel>
    </tng-tabs>
  </tng-expansion-panel>

  <!-- Demo Component -->
  <div class="my-2">
    <ng-content select="[tngExampleDemo]"></ng-content>
  </div>
</div>
