<div class="h-screen overflow-hidden bg-bg text-fg flex flex-col">
  <!-- Single header for entire app -->
  <header
    class="relative top-0 z-50 h-14 px-2 md:px-4 border-b border-border bg-bg flex-shrink-0 flex"
  >
    <div class="flex w-full justify-between px-0 md:px-4 h-full">
      <div class="flex items-center gap-2 md:gap-4 p-0">
        @if (mobileOpen()) {
          <tng-menu
            placement="bottom-start"
            rootKlass="md:hidden"
            panelKlass="fixed left-0 z-30 max-h-screen w-80 bg-bg p-2 overflow-y-auto border-r"
            klass="h-full"
          >
            <tng-icon tngMenuTrigger name="bootstrapList" [slot]="{ icon: 'text-2xl' }"></tng-icon>

            <ng-template tngMenuTemplate>
              <div class="mb-2 text-xs w-full font-semibold uppercase tracking-wide text-primary">
                Main menu
              </div>
              <nav class="flex flex-col gap-3 px-4">
                <a
                  tngMenuItem
                  routerLink="/components"
                  routerLinkActive="text-fg"
                  class="text-sm text-fg hover:text-fg"
                >
                  Components
                </a>
                <a
                  tngMenuItem
                  routerLink="/theme"
                  routerLinkActive="text-fg"
                  class="text-sm text-fg hover:text-fg"
                >
                  Theme
                </a>
                <a
                  tngMenuItem
                  routerLink="/icons"
                  routerLinkActive="text-fg"
                  class="text-sm text-fg hover:text-fg"
                >
                  Icons
                </a>
              </nav>
              <hr class="py-2 border-0" />
              @for (section of nav; track section.title) {
                <div>
                  <div
                    class="mb-2 text-xs w-full font-semibold uppercase tracking-wide text-primary"
                  >
                    {{ section.title }}
                  </div>
                  <div class="space-y-1">
                    @for (item of section.children ?? []; track item.title) {
                      <a
                        tngMenuItem
                        [routerLink]="item.route"
                        routerLinkActive="bg-slate-100 text-slate-900"
                        class="block rounded px-3 py-2 text-sm text-fg hover:bg-fg"
                      >
                        {{ item.title }}
                      </a>
                    }
                  </div>
                </div>
              }
            </ng-template>
          </tng-menu>
        }
        <a routerLink="/" class="flex items-center gap-2 font-semibold tracking-tight">
          <tng-logo size="12" />

          tailng
        </a>
        <nav class="hidden md:flex items-center gap-1">
          <a
            routerLink="/components"
            routerLinkActive="text-primary"
            class="text-sm text-fg hover:text-fg hover:bg-slate-50 rounded px-3 py-2"
          >
            Components
          </a>
          <a
            routerLink="/theme"
            routerLinkActive="text-primary"
            class="text-sm text-fg hover:text-fg hover:bg-slate-50 rounded px-3 py-2"
          >
            Theme
          </a>
          <a
            routerLink="/icons"
            routerLinkActive="text-primary"
            class="text-sm text-fg hover:text-fg hover:bg-slate-50 rounded px-3 py-2"
          >
            Icons
          </a>
        </nav>
      </div>
      <div class="flex items-center gap-2 md:gap-4">
        <tng-menu placement="bottom-end" panelKlass="p-1 min-w-48" rootKlass="md:me-1 text-xl">
          <tng-icon tngMenuTrigger name="bootstrapPalette"></tng-icon>
          <ng-template tngMenuTemplate>
            @for (theme of docsThemeService.themeList; track theme.id) {
              <button
                tngMenuItem
                type="button"
                class="flex w-full items-center gap-2 rounded px-3 py-2 text-sm hover:bg-fg hover:text-bg"
                (click)="changeTheme(theme.id)"
              >
                {{ theme.label }}
              </button>
            }
          </ng-template>
        </tng-menu>
        <tng-slide-toggle
          [checked]="docsThemeService.isDark()"
          (checkedChange)="onModeToggle($event)"
          [slot]="{ thumbUnchecked: 'bg-fg text-bg pt-1', thumbChecked: 'bg-bg text-fg pl-1 pt-1' }"
        >
          <tng-icon name="bootstrapMoonFill" tngSlideToggleOn></tng-icon>
          <tng-icon name="bootstrapSunFill" tngSlideToggleOff></tng-icon>
        </tng-slide-toggle>
        <tng-menu
          placement="bottom-end"
          panelKlass="fixed right-0 z-30 w-30 bg-bg p-2 overflow-y-auto border-r"
          triggerKlass="text-sm sm text-fg hover:text-fg  inline-flex items-center gap-1"
        >
          <span tngMenuTrigger class="rounded-xl cursor-pointer">
            <svg
              width="25"
              height="20"
              viewBox="0 0 256 256"
              xmlns="http://www.w3.org/2000/svg"
              preserveAspectRatio="xMinYMin meet"
            >
              <rect x="0" y="0" width="256" height="256" fill="#CB3837" />
              <path d="M48 48h160v160h-32V80h-48v128H48V48zm32 128h32V80H80v96z" fill="#ffffff" />
            </svg>
          </span>

          <ng-template tngMenuTemplate>
            <a
              tngMenuItem
              href="https://www.npmjs.com/package/@tailng-ui/ui"
              target="_blank"
              rel="noopener noreferrer"
              class="flex w-full rounded px-3 py-2 text-sm text-fg hover:bg-fg-100 hover:text-fg-100"
            >
              UI
            </a>
            <a
              tngMenuItem
              href="https://www.npmjs.com/package/@tailng-ui/theme"
              target="_blank"
              rel="noopener noreferrer"
              class="flex w-full rounded px-3 py-2 text-sm text-fg hover:bg-fg-100 hover:text-fg-100"
            >
              Theme
            </a>
            <a
              tngMenuItem
              href="https://www.npmjs.com/package/@tailng-ui/icons"
              target="_blank"
              rel="noopener noreferrer"
              class="flex w-full rounded px-3 py-2 text-sm text-fg hover:bg-fg-100 hover:text-fg-100"
            >
              Icons
            </a>
            <a
              tngMenuItem
              href="https://www.npmjs.com/package/@tailng-ui/cdk"
              target="_blank"
              rel="noopener noreferrer"
              class="flex w-full rounded px-3 py-2 text-sm text-fg hover:bg-fg-100 hover:text-fg-100"
            >
              CDK
            </a>
          </ng-template>
        </tng-menu>
        <a
          href="https://github.com/tailng/tailng-ui"
          target="_blank"
          class="text-sm text-fg hover:text-fg-100 flex items-center gap-1"
        >
          <tng-icon name="bootstrapGithub" [slot]="{ icon: 'me-1 text-xl' }"></tng-icon>
        </a>
      </div>
    </div>
  </header>

  <!-- App body -->
  <main class="flex flex-1 flex-col overflow-hidden min-h-0">
    <router-outlet />
  </main>
</div>
