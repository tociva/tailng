<div class="h-screen overflow-hidden bg-white text-slate-900 flex flex-col">
  <!-- Header -->
  <header class="sticky top-0 z-20 h-14 border-b border-slate-200 bg-white flex-shrink-0">
    <div class="mx-auto flex max-w-7xl items-center gap-3 px-4 h-full">
      <button
        class="md:hidden rounded border border-slate-200 px-3 py-2"
        (click)="mobileOpen.set(!mobileOpen())"
      >
        Menu
      </button>
      <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 160 160"
                class="h-10 w-30"
                role="img"
                aria-label="tailng icon"
              >
                <polygon fill="var(--primary)" points="80,6 148,46 148,114 80,154 12,114 12,46" />
                <text
                  x="80"
                  y="98"
                  text-anchor="middle"
                  fill="#ffffff"
                  style="font: 700 72px/1 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif"
                >
                  tng
                </text>
                <path
                  d="M105 103 C92 120 84 132 72 144"
                  fill="none"
                  stroke="#ffffff"
                  stroke-width="10"
                  stroke-linecap="round"
                />
              </svg>


      <a routerLink="/components" class="font-semibold tracking-tight"> tailng </a>

      <div class="ml-auto flex items-center gap-2 space-y-2">
        <a
          class="text-sm text-slate-600 hover:text-slate-900"
          href="https://github.com"
          target="_blank"
        >
          <tng-icon name="bootstrapGithub" klass="me-1"></tng-icon>GitHub
        </a>
      </div>
    </div>
  </header>

  <!-- App body -->
  <div class="flex flex-1 overflow-hidden mx-auto w-full max-w-8xl">
    <!-- Sidebar -->
    <tng-sidenav class="hidden md:block">
      <aside class="hidden md:flex flex-col flex-shrink-0 w-full px-5 ">
        <!-- Sidebar search -->
        <div class="sticky top-0 z-30 bg-background p-0 border-b border-slate-200">
          <form [formGroup]="form">
            <tng-text-input
              rootKlass="focus-within:!ring-0 focus-within:!ring-offset-0 border-0 focus-within:border-b-2 focus-within:border-black rounded-none"
              formControlName="text"
              placeholder="Searchâ€¦"
            >
              <tng-icon tngPrefix name="bootstrapSearch" class="ml-3 text-gray-400"></tng-icon>
            </tng-text-input>
          </form>
        </div>

        <!-- Sidebar navigation (scrolls) -->
        <nav class="flex-1 overflow-y-auto p-1 space-y-6">
          @for (section of filteredNav(); track section.title) {
            <tng-accordion [multiple]="true">
              <tng-expansion-panel [open]="true" rootKlass="border-0">
                <div tngExpansionTitle>{{ section.title }}</div>
                <div tngExpansionContent>
                  @for (item of section.children ?? []; track item.title) {
                    @if (item.title.toLowerCase().includes(normalizedQuery())) {
                      <a
                        [routerLink]="item.route"
                        routerLinkActive="bg-slate-100 text-slate-900"
                        class="block rounded px-3 py-2 text-sm text-slate-700 hover:bg-slate-50"
                      >
                        {{ item.title }}
                      </a>
                    }
                  }
                </div>
              </tng-expansion-panel>
            </tng-accordion>
          }
        </nav>
      </aside>
    </tng-sidenav>

    <!-- Main content (scrolls) -->
    <main class="flex-1 overflow-y-auto">
      <router-outlet />
    </main>
  </div>

  <!-- Mobile overlay -->
  @if (mobileOpen()) {
    <div class="fixed inset-0 z-20 bg-black/30 md:hidden" (click)="mobileOpen.set(false)"></div>

    <!-- Mobile drawer -->
    <div
      class="fixed inset-y-0 left-0 z-30 w-80 bg-white p-4 overflow-y-auto md:hidden border-r border-slate-200"
    >
      <div class="mb-4 flex items-center justify-between">
        <div class="font-semibold">Docs</div>
        <button class="rounded border border-slate-200 px-3 py-2" (click)="mobileOpen.set(false)">
          Close
        </button>
      </div>

      <nav class="space-y-6">
        @for (section of nav(); track section.title) {
          <div>
            <div class="mb-2 text-xs font-semibold uppercase tracking-wide text-slate-500">
              {{ section.title }}
            </div>

            <div class="space-y-1">
              @for (item of section.children ?? []; track item.title) {
                <a
                  [routerLink]="item.route"
                  (click)="mobileOpen.set(false)"
                  routerLinkActive="bg-slate-100 text-slate-900"
                  class="block rounded px-3 py-2 text-sm text-slate-700 hover:bg-slate-50"
                >
                  {{ item.title }}
                </a>
              }
            </div>
          </div>
        }
      </nav>
    </div>
  }
</div>
