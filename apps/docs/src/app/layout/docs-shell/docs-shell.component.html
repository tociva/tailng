<!-- Sidebar + content only (header lives in app-shell) -->
<div class="flex flex-1 overflow-hidden mx-auto w-full max-w-8xl h-full min-h-0">
  <!-- Sidebar (desktop) -->
  <tng-sidenav class="hidden md:block">
    <aside class="hidden md:flex flex-col flex-shrink-0 w-full px-5 ">
      <!-- Sidebar search -->
      <div class="sticky top-0 z-30 bg-bg p-0 border-b border-primary">
        <form [formGroup]="form">
          <tng-text-input
            rootKlass="focus-within:!ring-0 focus-within:!ring-offset-0 border-0 focus-within:border-b-2 focus-within:border-primary rounded-none"
            formControlName="text"
            placeholder="Searchâ€¦"
          >
            <tng-icon tngPrefix name="bootstrapSearch" class="ml-3 text-fg"></tng-icon>
          </tng-text-input>
        </form>
      </div>

      <!-- Sidebar navigation (scrolls) -->
      <nav class="flex-1 overflow-y-auto p-1 space-y-6">
        @for (section of filteredNav(); track section.title) {
          <tng-accordion [multiple]="true">
            <tng-expansion-panel [open]="true" rootKlass="border-0">
              <div tngExpansionTitle>{{ section.title }}</div>
              <div tngExpansionContent>
                @for (item of section.children ?? []; track item.title) {
                  @if (item.title.toLowerCase().includes(normalizedQuery())) {
                    <a
                      [routerLink]="item.route"
                      routerLinkActive="bg-slate-100 text-primary"
                      class="block rounded px-3 py-2 text-sm text-fg hover:bg-slate-50"
                    >
                      {{ item.title }}
                    </a>
                  }
                }
              </div>
            </tng-expansion-panel>
          </tng-accordion>
        }
      </nav>
    </aside>
  </tng-sidenav>

  <!-- Main content (scrolls) -->
  <main class="flex-1 overflow-y-auto min-w-0">
    <router-outlet />
  </main>
</div>
