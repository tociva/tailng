<!-- menu-demo.component.html -->
<div class="mx-auto max-w-xl space-y-8 p-6">
  <h1 class="text-xl font-semibold text-foreground">Menu</h1>

  <!-- Basic Menu -->
  <section class="space-y-3">
    <h2 class="text-sm font-semibold text-foreground">Basic</h2>

    <tng-menu>
      <!-- Trigger -->
      <button
        tngMenuTrigger
        type="button"
        class="rounded-md border border-border bg-bg px-3 py-1.5 text-sm"
      >
        Open menu
      </button>

      <!-- Menu content -->
      <ng-template tngMenuTemplate>
        <button
          tngMenuItem
          type="button"
          class="w-full rounded px-3 py-2 text-left text-sm hover:bg-slate-50"
          (click)="onAction('Profile')"
        >
          Profile
        </button>

        <button
          tngMenuItem
          type="button"
          class="w-full rounded px-3 py-2 text-left text-sm hover:bg-slate-50"
          (click)="onAction('Settings')"
        >
          Settings
        </button>

        <div class="my-1 h-px bg-border"></div>

        <button
          tngMenuItem
          type="button"
          class="w-full rounded px-3 py-2 text-left text-sm text-danger hover:bg-slate-50"
          (click)="onAction('Logout')"
        >
          Logout
        </button>
      </ng-template>
    </tng-menu>
  </section>

  <!-- Styled Menu -->
  <section class="space-y-3">
    <h2 class="text-sm font-semibold text-foreground">Styled</h2>

    <tng-menu placement="bottom-end" panelKlass="p-1 min-w-48">
      <button
        tngMenuTrigger
        type="button"
        class="inline-flex items-center gap-2 rounded-md bg-primary px-3 py-1.5 text-sm text-on-primary"
      >
        Actions
        <span class="text-xs">â–¼</span>
      </button>

      <ng-template tngMenuTemplate>
        <button
          tngMenuItem
          type="button"
          class="flex w-full items-center gap-2 rounded px-3 py-2 text-sm hover:bg-slate-50"
          (click)="onAction('Edit')"
        >
          Edit
        </button>

        <button
          tngMenuItem
          type="button"
          class="flex w-full items-center gap-2 rounded px-3 py-2 text-sm hover:bg-slate-50"
          (click)="onAction('Duplicate')"
        >
          ðŸ“„ Duplicate
        </button>

        <button
          tngMenuItem
          type="button"
          class="flex w-full items-center gap-2 rounded px-3 py-2 text-sm hover:bg-slate-50 text-danger"
          (click)="onAction('Delete')"
        >
          ðŸ—‘ Delete
        </button>
      </ng-template>
    </tng-menu>
  </section>

  <!-- Close reason demo -->
  <section class="space-y-3">
    <h2 class="text-sm font-semibold text-foreground">Close reason</h2>

    <tng-menu (closed)="onMenuClosed($event)">
      <button
        tngMenuTrigger
        type="button"
        class="rounded-md border border-border bg-bg px-3 py-1.5 text-sm"
      >
        Debug menu
      </button>

      <ng-template tngMenuTemplate>
        <button
          tngMenuItem
          type="button"
          class="w-full px-3 py-2 text-left text-sm hover:bg-slate-50"
        >
          Selection close
        </button>
      </ng-template>
    </tng-menu>

    <p class="text-xs text-muted-foreground">
      Open devtools and watch the close reason:
      <code>selection</code>, <code>outside-click</code>, <code>escape</code>
    </p>
  </section>

  <!-- Modal Menu -->
  <section class="space-y-3">
    <h2 class="text-sm font-semibold text-foreground">Modal (backdrop)</h2>

    <tng-menu modal="true" panelKlass="p-2 min-w-56">
      <button
        tngMenuTrigger
        type="button"
        class="rounded-md border border-border bg-bg px-3 py-1.5 text-sm"
      >
        Open modal menu
      </button>

      <ng-template tngMenuTemplate>
        <div class="space-y-2">
          <div class="text-xs text-muted-foreground px-1">
            Backdrop demo:
            click outside or press
            <kbd class="rounded bg-slate-100 px-1 text-slate-900">Esc</kbd>
            to close.
          </div>

          <button
            tngMenuItem
            type="button"
            class="w-full rounded px-3 py-2 text-left text-sm hover:bg-slate-50"
            (click)="onAction('First action')"
          >
            First action
          </button>

          <button
            tngMenuItem
            type="button"
            class="w-full rounded px-3 py-2 text-left text-sm hover:bg-slate-50"
            (click)="onAction('Second action')"
          >
            Second action
          </button>

          <button
            tngMenuItem
            type="button"
            class="w-full rounded px-3 py-2 text-left text-sm hover:bg-slate-50"
            (click)="onAction('Third action')"
          >
            Third action
          </button>

          <div class="pt-1 border-t border-border"></div>

          <button
            tngMenuItem
            type="button"
            class="w-full rounded px-3 py-2 text-left text-sm text-muted-foreground hover:bg-slate-50"
          >
            Close
          </button>
        </div>
      </ng-template>
    </tng-menu>

    <p class="text-xs text-muted-foreground">
      This menu uses <code>modal=true</code>, so a backdrop is shown and outside click closes the menu.
    </p>
  </section>

  <!-- Open From Icon -->
  <section class="space-y-3">
    <h2 class="text-sm font-semibold text-foreground">Open From Icon</h2>

    <tng-menu panelKlass="p-1 min-w-48">
      <button
        tngMenuTrigger
        type="button"
        class="inline-flex items-center rounded-md p-1 hover:bg-slate-50"
        aria-label="Notifications"
      >
        <tng-icon name="bootstrapBell" class="text-primary"></tng-icon>
      </button>

      <ng-template tngMenuTemplate>
        <button
          tngMenuItem
          type="button"
          class="w-full rounded px-3 py-2 text-left text-sm hover:bg-slate-50"
          (click)="onAction('Profile')"
        >
          Profile
        </button>

        <button
          tngMenuItem
          type="button"
          class="w-full rounded px-3 py-2 text-left text-sm hover:bg-slate-50"
          (click)="onAction('Settings')"
        >
          Settings
        </button>

        <div class="my-1 h-px bg-border"></div>

        <button
          tngMenuItem
          type="button"
          class="w-full rounded px-3 py-2 text-left text-sm text-danger hover:bg-slate-50"
          (click)="onAction('Logout')"
        >
          Logout
        </button>
      </ng-template>
    </tng-menu>
  </section>
</div>