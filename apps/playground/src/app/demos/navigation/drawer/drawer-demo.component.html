<div class="mx-auto max-w-5xl space-y-10 p-6">
  <h1 class="text-xl font-semibold text-foreground">Drawer</h1>

  <!-- Controls -->
  <section class="space-y-3">
    <h2 class="text-sm font-semibold text-foreground">Open drawers</h2>

    <div class="flex flex-wrap gap-2">
      <button
        class="rounded-md border border-border bg-bg px-3 py-1.5 text-sm"
        (click)="openDrawer('left')"
      >
        Left drawer
      </button>

      <button
        class="rounded-md border border-border bg-bg px-3 py-1.5 text-sm"
        (click)="openDrawer('right')"
      >
        Right drawer
      </button>

      <button
        class="rounded-md border border-border bg-bg px-3 py-1.5 text-sm"
        (click)="openDrawer('bottom')"
      >
        Bottom drawer
      </button>

      <button
        class="rounded-md border border-border bg-bg px-3 py-1.5 text-sm"
        (click)="openDrawer('top')"
      >
        Top drawer
      </button>
    </div>

    <div class="text-xs text-muted-foreground">
      Last close reason:
      <code class="rounded bg-slate-100 px-1 text-slate-900">{{ lastCloseReason() }}</code>
    </div>
  </section>

  <!-- Drawer -->
  <tng-drawer
    [open]="open()"
    [placement]="placement()"
    (closed)="onClosed($event)"
    backdropKlass="fixed inset-0 bg-black/40"
    panelKlass="bg-bg border border-border shadow-xl"
  >
    <!-- Content -->
    <div class="flex h-full flex-col">
      <!-- Header -->
      <div class="flex items-center justify-between border-b border-border px-4 py-3">
        <div class="space-y-1">
          <div class="text-sm font-semibold text-foreground">
            {{ placement() | titlecase }} drawer
          </div>

          <!-- Focus trap hint -->
          <div class="text-xs text-muted-foreground">
            Focus trap demo: press
            <kbd class="rounded bg-slate-100 px-1 text-slate-900">Tab</kbd> /
            <kbd class="rounded bg-slate-100 px-1 text-slate-900">Shift</kbd>+
            <kbd class="rounded bg-slate-100 px-1 text-slate-900">Tab</kbd>
            — focus will stay inside the drawer while it’s open.
          </div>
        </div>

        <!-- Make this the initial focus target -->
        <button
          tngDialogInitialFocus
          class="rounded-md border border-border bg-bg px-2 py-1 text-xs"
          (click)="closeDrawer()"
        >
          Close (initial focus)
        </button>
      </div>

      <!-- Body -->
      <div class="flex-1 space-y-4 overflow-auto p-4 text-sm">
        <div class="rounded-md border border-border bg-slate-50 p-3">
          Example content inside drawer.
          <div class="mt-1 text-xs text-muted-foreground">
            Use this for navigation (mobile), filters, settings, etc.
          </div>
        </div>

        <!-- Add a clear “tab loop” area -->
        <div class="space-y-2">
          <div class="text-xs font-semibold text-muted-foreground">Focus trap playground</div>

          <div class="grid gap-2 sm:grid-cols-2">
            <button class="rounded-md border border-border bg-bg px-3 py-2 text-sm">
              Button A
            </button>
            <button class="rounded-md border border-border bg-bg px-3 py-2 text-sm">
              Button B
            </button>
          </div>

          <label class="flex items-center justify-between rounded-md border border-border px-3 py-2">
            <span>Text input</span>
            <input
              class="w-40 rounded-md border border-border bg-bg px-2 py-1 text-sm"
              placeholder="Type…"
            />
          </label>

          <a href="#" class="inline-flex text-sm text-primary underline underline-offset-2">
            Example link
          </a>
        </div>

        <div class="space-y-2">
          <div class="text-xs font-semibold text-muted-foreground">Quick settings</div>

          <label class="flex items-center justify-between rounded-md border border-border px-3 py-2">
            <span>Notifications</span>
            <input type="checkbox" />
          </label>

          <label class="flex items-center justify-between rounded-md border border-border px-3 py-2">
            <span>Auto refresh</span>
            <input type="checkbox" />
          </label>
        </div>

        <div class="space-y-2">
          <div class="text-xs font-semibold text-muted-foreground">Actions</div>

          <button class="w-full rounded-md bg-primary px-3 py-2 text-sm text-on-primary">
            Save changes
          </button>

          <button class="w-full rounded-md border border-border bg-bg px-3 py-2 text-sm">
            Cancel
          </button>
        </div>
      </div>

      <!-- Footer -->
      <div class="flex items-center justify-end gap-2 border-t border-border px-4 py-3">
        <button
          class="rounded-md border border-border bg-bg px-3 py-1.5 text-sm"
          (click)="closeDrawer()"
        >
          Cancel
        </button>
        <button
          class="rounded-md bg-primary px-3 py-1.5 text-sm text-on-primary"
          (click)="closeDrawer()"
        >
          Done
        </button>
      </div>
    </div>
  </tng-drawer>

  <!-- Notes -->
  <section class="space-y-2">
    <h2 class="text-sm font-semibold text-foreground">Notes</h2>
    <ul class="list-disc space-y-1 pl-5 text-sm text-muted-foreground">
      <li>
        Focus trap keeps keyboard focus inside the drawer while it’s open (Tab / Shift+Tab loops).
      </li>
      <li>Backdrop click closes via <code>outside-click</code> reason.</li>
      <li>Escape closes via <code>escape</code> reason (if enabled).</li>
      <li>Use drawer for mobile SideNav, filters, or settings panels.</li>
    </ul>
  </section>
</div>
